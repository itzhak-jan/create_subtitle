<!DOCTYPE html>
<html lang="he" dir="rtl"> <!-- הוספתי כיווניות עברית -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מתמלל וידאו בדפדפן</title>
    <!-- קישור לקובץ ה-CSS החיצוני -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>מתמלל וידאו פשוט (Client-Side)</h1>
    <p>העלה קובץ וידאו (mp4, mov, avi, mkv) או אודיו (mp3, wav) כדי לקבל קובץ כתוביות (SRT).</p>
    <p><strong>חשוב:</strong> התהליך מתבצע כולו בדפדפן שלך. שום קובץ לא נשלח לשרת. הביצועים תלויים במחשב שלך. בפעם הראשונה, הורדת מודל השפה עשויה לקחת מספר דקות.</p>

    <div class="controls">
        <!-- קבוצה עבור בחירת קובץ -->
        <div class="control-group">
            <label for="videoFile">בחר קובץ:</label>
            <input type="file" id="videoFile" accept="video/*, audio/*">
        </div>

        <!-- קבוצה עבור בחירת שפה -->
        <div class="control-group">
            <label for="languageSelect">שפת הדיבור:</label>
            <select id="languageSelect">
                <option value="auto">זיהוי אוטומטי</option>
                <option value="he">עברית (Hebrew)</option>
                <option value="en">אנגלית (English)</option>
                <option value="ar">ערבית (Arabic)</option>
                <option value="ru">רוסית (Russian)</option>
                <option value="zh">סינית (Chinese)</option>
                <option value="ko">קוריאנית (Korean)</option>
                <option value="ja">יפנית (Japanese)</option>
                <option value="fr">צרפתית (French)</option>
                <option value="de">גרמנית (German)</option>
                <option value="es">ספרדית (Spanish)</option>
                <option value="it">איטלקית (Italian)</option>
                <!-- אפשר להוסיף עוד שפות ש-Whisper תומך בהן -->
            </select>
        </div>
    </div>

    <div id="status">אנא בחר קובץ וידאו או אודיו.</div>
    <progress id="progressBar" value="0" max="100" style="display: none;"></progress>
    <div id="progressDetail" style="font-size: 0.9em; margin-top: 5px; min-height: 1.2em;"></div>
    <a href="#" id="downloadLink" download="subtitles.srt">הורד קובץ כתוביות (SRT)</a>

    <hr style="margin-top: 30px;">  <!-- קו מפריד ויזואלי -->

    <div class="clarifications">
        <h2>הבהרות, אזהרות ומה הלאה</h2>

        <p><strong>חשוב להבין את מגבלות הכלי:</strong></p>
        <ul>
            <li><strong>תמלול מבוסס שמע בלבד:</strong> הכלי "מאזין" לאודיו וממיר אותו לטקסט. הוא אינו "רואה" את הוידאו או מבין הקשר חזותי.</li>
            <li><strong>רגישות לרעשים ואיכות שמע:</strong> איכות התמלול תלויה מאוד באיכות השמע בקובץ המקורי. רעשי רקע, מוזיקה חזקה, דיבור לא ברור או חופף, ומספר דוברים בו-זמנית עלולים לגרום לשגיאות רבות.</li>
            <li><strong>שמות, מונחים וביטויים ייחודיים:</strong> מודל השפה (במיוחד הקטן שרץ בדפדפן) עשוי להתקשות בזיהוי נכון של שמות פרטיים, שמות מקומות, מותגים, ז'רגון מקצועי או ביטויי סלנג.</li>
            <li><strong>מודל שפה קטן יחסית:</strong> כדי לאפשר ריצה בתוך הדפדפן שלכם, הכלי משתמש בגרסה קטנה יחסית של מודל Whisper. גרסאות גדולות יותר (שדורשות שרתים חזקים) יכולות להציע דיוק גבוה יותר.</li>
            <li><strong>ביצועים תלויי מחשב:</strong> כל העיבוד מתבצע במחשב שלכם. משך זמן התמלול תלוי ישירות בכוח העיבוד של המחשב ובאורך הקובץ. קבצים ארוכים מאוד עלולים לקחת זמן רב או אף להיכשל במחשבים חלשים.</li>
        </ul>

        <p>אנו מתנצלים מראש על שגיאות אפשריות בתמלול.</p>

        <p><strong>כדי לקבל את התוצאה הטובה ביותר:</strong></p>
        <ol>
            <li><strong>בחירת שפה מראש:</strong> עוד לפני ההעלאה, <strong>אנא בחרו את השפה העיקרית</strong> המדוברת בסרטון באמצעות התפריט הנפתח. למרות שקיימת אפשרות לזיהוי אוטומטי, ציון השפה מראש משפר משמעותית את הדיוק, במיוחד עבור המודלים הקטנים שבהם משתמש הכלי הזה.</li>
            <li><strong>עיבוד ושיפור באמצעות כלי AI חיצוני:</strong> לאחר קבלת קובץ ה-SRT, *גם אם הוא בשפה המקורית (למשל, עברית)*, אנו ממליצים בחום להעביר את התוכן דרך כלי AI חיצוני (כמו Google AI Studio / Gemini, ChatGPT, Claude וכו').<br>
                <strong>בקשה מומלצת לכלי ה-AI:</strong> "אנא תקן את הטקסט הבא: סדר את המשפטים, תקן שגיאות כתיב ודקדוק, הוסף פיסוק הגיוני, וודא שהתחביר קריא וברור. שמור על המשמעות המקורית."</li>
            <li><strong>התאמת קובץ לכלי AI:</strong> רוב כלי ה-AI הגדולים אינם מקבלים קבצי `.srt` ישירות. לפני שמעלים את הקובץ לכלי כזה לצורך שיפור, פשוט <strong>שנו את סיומת הקובץ מ-<code>.srt</code> ל-<code>.txt</code></strong>. אחרי שהכלי סיים לעבד את הטקסט והחזיר לכם אותו, <strong>שנו את הסיומת בחזרה ל-<code>.srt</code></strong> כדי שיתאים לנגן הוידאו.</li>
            <li><strong>שימוש בקובץ שמע נקי:</strong> במידת האפשר, העלאת קובץ עם שמע כמה שיותר נקי (פחות רעשי רקע, דיבור ברור) תשפר את התוצאות.</li>
        </ol>

         <p><strong>מה הכלי *לא* עושה כרגע?</strong></p>
         <ul>
            <li><strong>זיהוי דוברים (Speaker Diarization):</strong> הכלי אינו מזהה או מסמן מתי דובר אחר מתחיל לדבר.</li>
            <li><strong>תרגום אוטומטי:</strong> התמלול מתבצע לשפה המקורית בלבד. (ניתן לבקש תרגום מכלי AI חיצוני בשלב השיפור).</li>
            <li><strong>עריכה מתקדמת:</strong> אין ממשק עריכה מובנה לתיקון הכתוביות.</li>
         </ul>

        <p>מקווים שהכלי יהיה לכם לעזר!</p>
    </div>
    <!-- טוענים את script.js כמודול -->
    <script type="module" src="script.js"></script>
</body>
</html>